"use strict";const headerAccountEl=document.querySelector(".account-container .wrapper"),headerAccountDropdownEl=document.querySelector(".account-dropdown"),headerCartEl=document.querySelector(".header-cart"),cartDrawerEl=document.querySelector(".cart-container .cart-drawer"),cartOverlayEl=document.querySelector(".cart-container .overlay"),cartDrawerCloseBtn=document.querySelector(".cart-container .drawer-top button"),headerCategoriesEl=document.querySelector(".header-bottom .categories"),headerCategoriesChevron=document.querySelector(".header-bottom .categories img"),headerCategoriesDropdown=document.querySelector(".header-bottom .categories .nav-dropdown"),burgerMenuEl=document.querySelector(".burger-menu"),headerBottomEl=document.querySelector(".header-bottom"),backToTopBtn=document.querySelector("footer .back-to-top");let windowWidth=window.innerWidth;window.addEventListener("resize",(()=>{windowWidth=window.innerWidth})),burgerMenuEl.addEventListener("click",(()=>{burgerMenuEl.classList.toggle("open"),""==headerBottomEl.style.display?headerBottomEl.style.display="block":headerBottomEl.style.display=""})),headerCategoriesEl.addEventListener("click",(e=>{e.preventDefault(),e.target.closest(".nav-dropdown")||(headerCategoriesDropdown.classList.toggle("hidden"),windowWidth>1024&&headerCategoriesChevron.classList.toggle("inverted"))})),headerCartEl.addEventListener("click",(()=>{cartDrawerEl.classList.remove("hidden"),cartOverlayEl.classList.remove("hidden"),document.body.style.overflow="hidden"})),[cartDrawerCloseBtn,cartOverlayEl].forEach((e=>{e.addEventListener("click",(()=>{cartDrawerEl.classList.add("hidden"),cartOverlayEl.classList.add("hidden"),document.body.style.overflow=""}))})),headerAccountEl.addEventListener("click",(e=>{e.preventDefault(),headerAccountDropdownEl.classList.toggle("hidden")})),window.addEventListener("click",(e=>{const t=e.target;headerAccountEl.contains(t)||headerAccountDropdownEl.classList.contains("hidden")||headerAccountDropdownEl.classList.add("hidden"),headerCategoriesEl.contains(t)||headerCategoriesDropdown.classList.contains("hidden")||(headerCategoriesDropdown.classList.add("hidden"),headerCategoriesChevron.classList.remove("inverted")),headerBottomEl.contains(t)||t.closest(".burger-menu")||(burgerMenuEl.classList.remove("open"),headerBottomEl.style.display="")}));const calculateScrollPercentage=()=>{const e=document.documentElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(0===t)return 0;return e/t*100};window.addEventListener("scroll",(()=>{const e=calculateScrollPercentage();backToTopBtn.style.display=e>=10?"block":"none",e>=50?backToTopBtn.classList.add("halfway"):backToTopBtn.classList.remove("halfway"),backToTopBtn.style.background=`linear-gradient(to top, rgb(0, 0, 0) ${Math.round(e)}%, rgb(255, 255, 255) ${Math.round(e)}%)`}));const scrollToTop=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0};backToTopBtn.addEventListener("click",scrollToTop);const formatToTwoDecimalPoints=e=>{if("string"==typeof e){const t=parseFloat(e.replace(/[^\d.-]/g,""));if(!isNaN(t))return"$"+t.toFixed(2)}return e},handleMutation=(e,t)=>{e.forEach((e=>{if("characterData"===e.type||"childList"===e.type){const t=e.target,r=formatToTwoDecimalPoints(t.textContent);t.textContent=r}}))},headerCartTotalEl=document.querySelector(".header-cart-total"),cartDrawerSubTotalEl=document.querySelector(".cart-drawer .drawer-bottom .subtotal-container .subtotal"),cartDrawerProductTotalEl=document.querySelector(".drawer-middle .product .product-detail .price"),config={characterData:!0,childList:!0,subtree:!0},observer=new MutationObserver(handleMutation);observer.observe(headerCartTotalEl,config),observer.observe(cartDrawerSubTotalEl,config),observer.observe(cartDrawerProductTotalEl,config);